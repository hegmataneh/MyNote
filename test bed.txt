
sudo hping3 --udp -p 1234 -d 1 -c 2000000 -q 192.168.100.60

sudo nping --udp -c 10000000 -q --rate 1000000 -p 1234 --data-length 1 192.168.100.60


tcpdump -i enp0s3 -n udp and port 12345

tcpdump -i enp0s3 -n -q -v udp and port 1234 > /dev/null | wc -l


sudo tshark -i enp0s3 -c 10000000 -f "udp dst port 1234" -a duration:140 -q -T fields -e udp.length -e frame.time_relative |
awk 'BEGIN {
    total_len = 0
    count = 0
    start_time = -1
    end_time = 0
}
{
    len = $1
    time = $2 + 0  # force numeric
    if (start_time < 0) start_time = time
    total_len += len
    count += 1
    end_time = time
}
END {
    duration = end_time - start_time
    if (count > 0 && duration > 0) {
        throughput = (total_len * 8) / duration
        printf("Packet count: %d\n", count)
        printf("Start time: %.6f s\n", start_time)
        printf("End time:   %.6f s\n", end_time)
        printf("Duration:   %.6f s\n", duration)
        printf("Average throughput: %.2f bps\n", throughput)
		printf("total_len: %.2f b\n", total_len)
    } else if (count > 0) {
        printf("Only one packet received, unable to calculate duration.\n")
    } else {
        printf("No packets received.\n")
    }
}'


timeout 20 tcpdump -i enp0s3 -n -q udp and port 1234 2>/dev/null | wc -l

timeout 140 tcpdump -i enp0s3 -n -q -v udp and port 1234 > /dev/null

sudo ethtool -S enp0s3



sudo proxychains apt update

sudo proxychains apt install libpcap-dev build-essential pkg-config


sudo chown root:root /home/mohsen/projects/testPFRing_count_udp_v1/bin/x64/Debug/testPFRing_count_udp_v1.out

sudo chmod 4755 /home/mohsen/projects/testPFRing_count_udp_v1/bin/x64/Debug/testPFRing_count_udp_v1.out


ls -l /home/mohsen/projects/testPFRing_count_udp_v1/bin/x64/Debug/testPFRing_count_udp_v1.out


ldd $(which tshark) | grep pcap




sudo tshark -i enp0s3 -c 1000000 -f "udp dst port 1234" -a duration:30 -q |
awk 'BEGIN {
    count = 0
}
{
    count += 1
}
END {
        printf("Packet count: %d\n", count)
}'


find /usr/include -name pcap.h
