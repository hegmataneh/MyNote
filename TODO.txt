
روش کرنل دیسپتچ کند

ارسالی ما لزوما تک پکت نیست و شاید تجمیعی هم باشد
یا بر اساس لود تصمیم بگیرد چند تا چند تا در یک پکت tcp بفرستد

XDS خیلی لو لول تر است و فقط روی شبکه واقعی قابل تست است


کاری که می خواهم بکنم 14040518
{

- برنامه به نحوی باشد که بشود از lib های مختلفی استفاده کرد و اینها مثل یک interface باشد

- چند ترد سر پورت وایستند و udp دریافت کنند

- در سطح کرنل لول یکی وایستد و udp پخش کند

- اون سمت گرفتن tcp را کاری کن که هر چی کانکشن آمد بگیرد

- همه توابع که ورودی می گیرد چک کند مقدارش نال نباشد مثلا زیرا خروجی های چت جی پی تی همه اش اینرا رعایت می کند

- ارور ها شماره خط و خیلی شفاف بیان شود نه اینکه مبهم باشد

- اولی که برنامه هام بالا می آید اعدادی که تغییر می کند یک بلینک بزند یعنی متغیر های تنظیماتی تغییر کرده مثل تعداد کانکشن Tcp

- آیا خود route table میتونه udp ها رو پخش پلا کند

- memory leaks

- gracefull degredation

- از چت جی پی تی بپرسم چجوری میشه کلاسهای مختلف را تست کرد و زیر بار تست و انواع سناریو ها را تست کرد

- descent closure

- comment fxn

- test case 

- non case sensitive

- improve packet get to get 100 percet of packet

2- یک ورودی را بتوانیم به چند خروجی round robin بدهیم

3- یک  ranje بگیرد و بدهد به یک پورت

4- خروجی مثلا چند دسته باشد مثلا یکی را بین دو تا پورت replicate کند و یا علاوه بر اینکار یک دسته جدید معرفی شود که روی آن round robin بزند

5- یم مود خروجی داریم یعنی می گوید خروجی از چه نوعی است

6- چه rate ای فرستنده بفرستد که بعد از رسیدن udp و تبدیل به tcp نهایتا lost نداشته باشیم

7- مقدار buff از تنظیمات بیاید

8- تنظیمات وارد شده می تواند conflict داشته باشد. زیرا دو نفر نمی توانند یک پورت tcp باز کنند

9- هندل سیگنال و عدم بسته شدن برنامه

10- عدم گیر برنامه در صورت بسته شدن tvp پورت

11- هر ترد یک واچ داگ داشته باشد که آخرین زمان کار و شمارنده داشته باشد و به همراه هندل آن قابل ری استارت شدن باشد


12- برای سمت فرستنده udp کاری کنم بشود پهنای باند تعیین کنیم که فاصله زمانی را خودش تنظیم کند مثلا

}


-----------

multi process listener

فیلد های ولید در قسمت کانفیگ ها پر شود

------------

+++++ چرا وقتی یکی در حال پکت ارسال کردن است برنامه من که از وسط کار رسیده نمی تونه ببینه این پکت را و سلک کار نمی کنه ولی اگر تست کنم برنامه دیگر کار کند این بده

وقتی پکت یو دی پی را نگیریم کار گیر می کند و ارسال متوقف می شود و پورت دیگر ارور می دهد

چرا اگر پورت udp را نگیریم گیز می کند و علت چیست

و تست هام رو حجم های متفاوت بفرستم که در واقع اندازه هدر تحت شعاع قرار بگیرد و یا نگیرد

ادعای Tcp که می گوید لاست ندارد را تست کنیم

مقایسه آمار وقتی مالی ترد و تعداد پورت زیاد داریم و با باتل نک های متفاوت باشد رفتار نتایج چه می شود

install linux and vs code on it

-------

سلام صبح به خیر
من یه نگاه اجمالی به iperf کردم. ما هدفمون چیه؟ هدفمون اینه که با حداکثر bitrateی که پهنای باند ما اجازه میده اگر pktها ارسال بشه به ورودی دستگاه وسط بتونه همه اونها رو process کنه و اگر نمیکنه ببینیم حداکثر rateی که میتونیم pkt ارسال کنیم تا همه process بشن چقدره یا به عبارتی چند درصد از pktها در حالت ارسال حداکثری lost میشن. در اثر چی lost میشن؟ در اثر زمانی که ما لازم داریم برای اینکه اونها رو process کنیم. طبعاً وقتی میخواهیم از اون طرف ارسالشون هم بکنیم به سرور سوم این زمان بیشتر هم میشه. پس تست کامل ما وقتی هست که همه مراحل انجام بشه. برای اینکه بتونیم جدا جدا هم این اطلاعات رو داشته باشیم و بدونیم چقدر از بار process صرف دریافت pktها شده و چقدر صرف ساخت pktهای ارسالی به سرور سوم و ارسال اونها طبعاً این benchmarking باید در داخل خود برنامه باشه که بتونه بار process هر بخش رو به طور جداگانه به ما نشون بده. اما نهایتاً اون چیزی که میخواهیم بدونیم اینه که حداکثر با چه rateی میتونه سرور اول pktها رو ارسال کنه که تمام اونها توسط سرور سوم دریافت بشه. حالا اگه این ابزار میتونه این اطلاعات رو به ما بده که خوبه، ازش استفاده میکنیم. طبعاً با configهای مختلف میخواهیم این اطلاعات رو به دست بیاریم. وقتی تعداد portهای ورودی زیاد میشه چه تأثیری داره و وقتی تعداد خروجیها زیاد میشه چه تأثیری. از این جور بازیها میخوایم باهاش درآریم و اطلاعات processorی که در سرور وسط نشسته رو بدونیم. این میشه در واقع اون benchmark کردنه.

لینک بین سرورها در virtual machine به لحاظ توانایی بالا بردن bitrate به چی بستگی داره؟ خود اون driverی که برای virtual machine گذاشته‌اند دخیله یا پارامترهای دیگه هم هست؟ اینم یه موضوعیه که در تستهای ما دخالت میکنه. البته اگه ما بتونیم لینک با پهنای باند بالا روی سرورهای physical داشته باشیم تست دقیقتری خواهیم داشت. ولی خب حالا فعلاً همین رو سعی کنیم تا بتونیم منطبق بر واقعش کنیم.

یه نکته‌ای رو شاید یادم رفت بگم اینه که نوع فرستادن به پورتهای خروجی رو هم میخوایم بتونیم در config بیاریم. دقیقترش رو حالا بعداً بهت میگم ولی اینو در نظر داشته باش. ممکنه بخواهیم یه pkt رو به بیش از یک port بفرستیم (duplicate) یا مشخص کنیم کدوم پورتهای ورودی به کدوم خروجیها برن. یا ممکنه بخواهیم بالانس بین خروجیها توسط خود نرم افزار برقرار بشه. یعنی خودش بر اساس بار هر خروجی تصمیم بگیره به کدوم بفرسته که موازنه رعایت بشه.


